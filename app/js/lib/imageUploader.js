!function(e,t){"use strict";function a(){this.fileReader=new FileReader,this.callback=null,this.element=null}a.prototype.read=function(t,a){t.dataset.img=null;var i=e.Lib.Validator.checkImage(t);if(t.classList.add(i.className),!i.valid)return!1;this.callback=a,this.element=t;var r=t.files;this.fileReader.readAsDataURL(r[0]),this.fileReader.onload=this.insertImage.bind(this)},a.prototype.insertImage=function(e){var a=e.target.result;a=this.drawImage(a);var i=this.element.parentNode,r=i.querySelector("img"),l=t.createElement("img");l.setAttribute("src",a),this.element.dataset.img=a,r?r.replaceWith(l):i.insertBefore(l,this.element),this.callback(a)},a.prototype.drawImage=function(e){var a=t.createElement("canvas"),i=a.getContext("2d"),r=new Image;r.src=e;var l=195,s=135,n=l/r.width,h=s/r.height,c=Math.min(n,h),d=n<h?1:0,m=d?l:Math.ceil(r.width*c),o=d?Math.ceil(r.height*c):s;return a.setAttribute("width",m+"px"),a.setAttribute("height",o+"px"),i.drawImage(r,0,0,m,o),e=a.toDataURL()},e.Lib.ImageUploader=a}(App,document);