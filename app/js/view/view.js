!function(e,t){"use strict";function i(i){this.container=e.serviceContainer,this.event=e.Lib.Event,this.dictionary=this.container.lib.dictionary,this.header=new e.View.Header({userCollection:i.users,rootView:this}),this.usersTable=new e.View.UserTable({userCollection:i.users,rootView:this}),this.modalWindow=new e.View.Modal({userCollection:i.users,rootView:this}),this.optionBlock=new e.View.Option({userCollection:i.users,rootView:this}),this.notifyBlock=new e.View.Notify({userCollection:i.users,rootView:this}),t.addEventListener("keydown",this.handlerKeyPress.bind(this,this)),this.event.addListener("languageChange",this.localization.bind(this)),e.serviceContainer.template.rootView=this}i.prototype.handlerKeyPress=function(e,t){return 27==t.which&&void e.modalWindow.el.click()},i.prototype.render=function(){e.container.appendChild(this.header.render()),e.container.appendChild(this.usersTable.render()),e.container.appendChild(this.modalWindow.render()),e.container.appendChild(this.optionBlock.render()),e.container.appendChild(this.notifyBlock.render())},i.prototype.localization=function(){var t=this.createAST(e.container);return this.translate(t,""),!0},i.prototype.translate=function(e,t){var i=this;if(t+=e.key+"|",e.children.length)e.children.forEach(function(e){return i.translate(e,t)});else{var n=t.substring(0,t.length-1).split("|"),r=n.reduce(function(e,t){return""!==t&&e.push(t),e},[]),o=i.dictionary.t(r);"string"==typeof o&&(e.el.textContent=o)}return!0},i.prototype.createAST=function(e){var t=this,i={};i.key="",i.el=null,i.children=[],e.dataset.languageKey&&(i.key=e.dataset.languageKey),i.el=e;var n=[];return e.childNodes&&(n=[].slice.apply(e.childNodes)),n=n.reduce(function(e,t){return 1==t.nodeType&&e.push(t),e},[]),i.children=n.map(function(e){if(e.childNodes)return t.createAST(e)}),i},e.View=i}(App,document);