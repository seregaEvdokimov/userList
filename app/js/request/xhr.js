!function(t){"use strict";function e(t){this.xhr=new XMLHttpRequest,this.method=t.method,this.URL=t.URL,this.config=t.options,this.paramsBody="","payload"in this.config&&(this.paramsBody=this.createParamsBody(this.config.payload))}e.prototype.sendRequest=function(){var t=this;return new Promise(function(e,r){t.xhr.open(t.method,t.URL,!0),t.xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.xhr.addEventListener("readystatechange",t.readyStateChangeHandler.bind(t,e,r)),t.xhr.send(t.paramsBody)})},e.prototype.createParamsBody=function(t){var e="";for(var r in t)e+=r+"="+encodeURIComponent(t[r]+"")+"&";return e},e.prototype.readyStateChangeHandler=function(t,e){if(4===this.xhr.readyState)if(this.xhr.status>=200&&this.xhr.status<300){var r=JSON.parse(this.xhr.responseText);t(this.config.success(r))}else{var s="error: "+(this.xhr.status?this.xhr.statusText:"problems with request");e(this.config.error(s))}},t.Request.XHR=e}(App);